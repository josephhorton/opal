{% extends "layouts/main.html" %}

{% set pageName = "Create fines account" %}

{% block pageTitle %}
{{ pageName }} – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}

<a href="./account-details.html" class="govuk-back-link">Back</a>


{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">


      <span class="govuk-caption-l">{{ data['businessUnit'] or "Bedfordshire" }}</span>
      <h1 class="govuk-heading-l govuk-!-margin-bottom-6">{{ pageName }}</h1>

      <div class="govuk-inset-text">
        Defendant type is {{ data['defendantType'] or 'Individual only'}}.
      </div>

      {% set notStarted = {
        tag: {
          text: "Not provided",
          classes: "govuk-tag--blue"
        }
      } %}

      {% set inProgress = {
        tag: {
          text: "Incomplete",
          classes: "govuk-tag--light-blue"
        }
      } %}

      {% set completedStatus = {
        text: "Completed",
        classes: "govuk-tag--green"
      } %}

      <!-- CONDITIONS FOR STATUS TAGS -->
      

      <!-- COURT DETAILS -->
      {% if (data['TDstatus'] == 'Completed') %}
      {% set TDtaskComplete = {
          text: "Completed"
      } %}
      {% else %}
      {% set TDtaskComplete = {
        tag: {
          text: "Not provided",
          classes: "govuk-tag--blue"
        }
      } %}
      {% endif %}

      <!-- PERSONAL DETAILS -->
      {% if (data['PDstatus'] == 'Completed') %}
      {% set PDtaskComplete = {
          text: "Completed"
      } %}
      {% else %}
      {% set PDtaskComplete = {
        tag: {
          text: "Not provided",
          classes: "govuk-tag--blue"
        }
      } %}
      {% endif %}

      <h2 class="govuk-heading-m">Case, area and court code details</h2>

      {{ govukTaskList({
        idPrefix: "first-section",
        items: [
          {
            title: {
              text: "Case, area and court code details"
            },
            href: './transfer-details/check-answers' if data['transfer-details-end'] == 'true' else './transfer-details/transfer-details',
            status: TDtaskComplete
          }
        ]
      }) }}

      <h2 class="govuk-heading-m">Defendant details</h2>

      <!-- TASK LIST -->
      {{ govukTaskList({
        idPrefix: "second-section",
        items: [
          {
            title: {
              text: "Personal details"
            },
            href: './personal-details/check-answers' if data['personal-details-end'] == 'true' else './personal-details/personal-details',
            status: PDtaskComplete
          },

          {
            title: {
              text: "Contact preferences"
            },
            href: "#",
            status: notStarted
          },

          {
            title: {
              text: "Employer"
            },
            href: "#",
            status: notStarted
          },

          {
            title: {
              text: "Vehicle details"
            },
            href: "#",
            status: notStarted
          }
          
        ]
      }) }}

      <h2 class="govuk-heading-m govuk-!-margin-top-5">Offences and payment terms</h2>

      {{ govukTaskList({
        idPrefix: "third-section",
        items: [
          {
            title: {
              text: "Offence details "
            },
            href: "#",
            status: {
              tag: {
                text: "Not provided",
                classes: "govuk-tag--blue"
              }
            }
          },
          {
            title: {
              text: "Payment terms"
            },
            href: "#",
            status: {
              tag: {
                text: "Not provided",
                classes: "govuk-tag--blue"
              }
            }
          }
        ]
      }) }}

      <h2 class="govuk-heading-m govuk-!-margin-top-5">Review and publish</h2>

      <p class="govuk-body">Check that all required fields have been entered before you publish.</p>

      <div class="govuk-!-margin-top-5">
        {{ govukButton({ text: "Review account", href: "#" }) }}
      </div>

      <p class="govuk-body"><a href="#" class="govuk-link app-destructive-link">Delete account</a></p>

    </div> 
  </div>
{% endblock %}
