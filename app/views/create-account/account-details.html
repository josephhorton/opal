{% extends "layouts/main.html" %}

{% set pageName = "Account details" %}

{% block pageTitle %}
{{ pageName }} – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}

<a href="create-account.html" class="govuk-back-link">Back</a>

{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <h1 class="govuk-heading-l govuk-!-margin-bottom-">{{ pageName }}</h1>

    {{ govukSummaryList({
      classes: "govuk-!-margin-bottom-7",
      rows: [
        {
          key: {
            text: "Business unit"
          },
          value: {
            text: data['businessUnit'] or "Avon and Somerset"
          }
        },
        {
          key: {
            text: "Account type"
          },
          value: {
            text: 'Fine'
          }
        },
        {
          key: {
            text: "Defendant type"
          },
          value: {
            text:  data['defendantTypeF']
          }       
        },
        {
          key: {
            text: "Document language"
          },
          value: {
            text: data['documentLanguage']
          },
          actions: {
            items: [
              {
                href: "language-preference",
                text: "Change",
                visuallyHiddenText: "document language",
                classes: "govuk-link--no-visited-state"
              }
            ]
          }   
        } if data['businessUnit'] == "Port Talbot",
        {
          key: {
            text: "Court hearing language"
          },
          value: {
            html: data['courtHearingLanguage']
          },
          actions: {
            items: [
              {
                href: "language-preference",
                text: "Change",
                visuallyHiddenText: "language preference",
                classes: "govuk-link--no-visited-state"
              }
            ]
          }   
        } if data['businessUnit'] == "Port Talbot"        
      ]
    }) }}

  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <!-- CONDITIONS FOR STATUS TAGS -->
    <div>

      <!-- GENERAL NOT STARTED -->
      {% set notStarted = {
        tag: {
          text: "Not provided",
          classes: "govuk-tag--blue"
        }
      } %}

      <!-- COURT DETAILS -->

      {% if (data['cdCompleted'] == "true") %}

          {% set cdStatusTag = {
            tag: {
              text: "Provided",
              classes: "govuk-tag--blue"
            }
          } %}
          
        {% else %}

          {% set cdStatusTag = {
            tag: {
              text: "Not provided",
              classes: "govuk-tag--grey"
            }
          } %}
      
      {% endif %}

      <!-- PERSONAL DETAILS -->

      {% if (data['pdCompleted'] == "true") %}

          {% set pdStatusTag = {
            tag: {
              text: "Provided",
              classes: "govuk-tag--blue"
            }
          } %}
          
        {% else %}

          {% set pdStatusTag = {
            tag: {
              text: "Not provided",
              classes: "govuk-tag--grey"
            }
          } %}
      
      {% endif %}

      <!-- COMPANY DETAILS -->

      {% if (data['codCompleted'] == "true") %}

          {% set codStatusTag = {
            tag: {
              text: "Provided",
              classes: "govuk-tag--blue"
            }
          } %}
          
        {% else %}

          {% set codStatusTag = {
            tag: {
              text: "Not provided",
              classes: "govuk-tag--grey"
            }
          } %}
      
      {% endif %}

      <!-- CONTACT PREFERENCES -->

      {% if (data['cpCompleted'] == "true") %}

          {% set cpStatusTag = {
            tag: {
              text: "Provided",
              classes: "govuk-tag--blue"
            }
          } %}
          
        {% else %}

          {% set cpStatusTag = {
            tag: {
              text: "Not provided",
              classes: "govuk-tag--grey"
            }
          } %}
      
      {% endif %}

        <!-- EMPLOYER DETAILS -->

        {% if (data['edCompleted'] == "true") %}

        {% set edStatusTag = {
          tag: {
            text: "Provided",
            classes: "govuk-tag--blue"
          }
        } %}
        
      {% else %}

        {% set edStatusTag = {
          tag: {
            text: "Not provided",
            classes: "govuk-tag--grey"
          }
        } %}
      
        {% endif %}

        <!-- PARENT OR GUARDIAN DETAILS -->

        {% if (data['pgdCompleted'] == "true") %}

        {% set pgdStatusTag = {
          tag: {
            text: "Provided",
            classes: "govuk-tag--blue"
          }
        } %}
        
      {% else %}

        {% set pgdStatusTag = {
          tag: {
            text: "Not provided",
            classes: "govuk-tag--grey"
          }
        } %}
      
        {% endif %}

      <!-- OFFENCE DETAILS -->

      {% if (data['ofdCompleted'] == "true") %}

          {% set ofdStatusTag = {
            tag: {
              text: "Provided",
              classes: "govuk-tag--blue"
            }
          } %}
          
        {% else %}

          {% set ofdStatusTag = {
            tag: {
              text: "Not provided",
              classes: "govuk-tag--grey"
            }
          } %}
      
      {% endif %}

      <!-- PAYMENT TERMS -->

      {% if (data['ptCompleted'] == "true") %}

          {% set ptStatusTag = {
            tag: {
              text: "Provided",
              classes: "govuk-tag--blue"
            }
          } %}
          
        {% else %}

          {% set ptStatusTag = {
            tag: {
              text: "Not provided",
              classes: "govuk-tag--grey"
            }
          } %}
      
      {% endif %}
    </div>

    <h2 class="govuk-heading-m ">Court details</h2>

    {{ govukTaskList({
      idPrefix: "first-section",
      items: [
        {
          title: {
            text: "Court details",
            classes: "govuk-link--no-visited-state"
          },
          href: 'court-details',
          status: cdStatusTag
        }
      ]
    }) }}

    {% if data['defendantTypeF'] == "Adult or youth only" %}

    <h2 class="govuk-heading-m govuk-!-margin-top-7">Defendant details</h2>

    {{ govukTaskList({
      idPrefix: "second-section",
      items: [
        {
          title: {
            text: "Personal details",
            classes: "govuk-link--no-visited-state"
          },
          href: 'personal-details',
          status: pdStatusTag
        },
        {
          title: {
            text: "Contact details",
            classes: "govuk-link--no-visited-state"
          },
          href: "contact-details",
          status: cpStatusTag
        },
        {
          title: {
            text: "Employer details",
            classes: "govuk-link--no-visited-state"
          },
          href: "employer-details",
          status: edStatusTag
        }
      ]
    }) }}

    {% endif %}

    {% if data['defendantTypeF'] == "Adult or youth with parent or guardian to pay" %}

    <h2 class="govuk-heading-m govuk-!-margin-top-7">Parent or guardian details</h2>

    {{ govukTaskList({
      idPrefix: "second-section",
      items: [
        {
          title: {
            text: "Parent or guardian details",
            classes: "govuk-link--no-visited-state"
          },
          href: 'paren-guardian-details',
          status: pgdStatusTag
        },
        {
          title: {
            text: "Contact details",
            classes: "govuk-link--no-visited-state"
          },
          href: "contact-details",
          status: cpStatusTag
        },
        {
          title: {
            text: "Employer details",
            classes: "govuk-link--no-visited-state"
          },
          href: "employer-details",
          status: edStatusTag
        }
      ]
    }) }}

    <h2 class="govuk-heading-m govuk-!-margin-top-7">Defendant details</h2>

    {{ govukTaskList({
      idPrefix: "second-section",
      items: [
        {
          title: {
            text: "Personal details",
            classes: "govuk-link--no-visited-state"
          },
          href: 'personal-details',
          status: pdStatusTag
        }
      ]
    }) }}

    {% endif %}

    {% if data['defendantTypeF'] == "Company" %}

    <h2 class="govuk-heading-m govuk-!-margin-top-7">Company details</h2>

    {{ govukTaskList({
      idPrefix: "second-section",
      items: [
        {
          title: {
            text: "Company details",
            classes: "govuk-link--no-visited-state"
          },
          href: 'company-details',
          status: codStatusTag
        },
        {
          title: {
            text: "Contact details",
            classes: "govuk-link--no-visited-state"
          },
          href: 'contact-details',
          status: codStatusTag
        }
      ]
    }) }}

    {% endif %}

  
    

    <!-- <h2 class="govuk-heading-m govuk-!-margin-top-7">Offence and imposition details</h2>

    {{ govukTaskList({
      idPrefix: "third-section",
      items: [
        {
          title: {
            text: "Offence details",
            classes: "govuk-link--no-visited-state"
          },
          datamodule: "edge",
          href: '#',
          status: ofdStatusTag
        },
        {
          title: {
            text: "Payment terms",
            classes: "govuk-link--no-visited-state"
          },
          status: {
            text: "Cannot start yet",
            classes: "govuk-task-list__status--cannot-start-yet"
          }
        }
      ] 
    }) }}

    <h2 class="govuk-heading-m govuk-!-margin-top-7">Account comments and notes</h2>

    {{ govukTaskList({
      idPrefix: "third-section",
      items: [
        {
          title: {
            text: "Account comments and notes",
            classes: "govuk-link--no-visited-state"
          },
          datamodule: "edge",
          href: '#',
          status: ofdStatusTag
        }
      ] 
    }) }} -->

    <!-- <h2 class="govuk-heading-m govuk-!-margin-top-7">Additional information</h2>

    {{ govukTaskList({
      idPrefix: "fourth-section",
      items: [
        {
          title: {
            text: "Additional information",
            classes: "govuk-link--no-visited-state"
          },
          href: './summary/check-answers' if data['additional-information-end'] == 'true' else './summary/summary',
          status: AItaskComplete
        }
      ]
    }) }} -->

    <!-- <h2 class="govuk-heading-m govuk-!-margin-top-7">Review and publish</h2>

    <p class="govuk-body">Check that all required fields have been entered before you publish.</p>

    <div class="" data-module="edge">
      {% if data['allCompleted'] == "true" %}
      {{ govukButton({
        text: "Review account",
        href: "#",
        classes: "govuk-!-margin-bottom-0"
      }) }}
      {% else %}
      
      {% endif %}
    </div> -->


  </div> 

</div>

{% endblock %}
